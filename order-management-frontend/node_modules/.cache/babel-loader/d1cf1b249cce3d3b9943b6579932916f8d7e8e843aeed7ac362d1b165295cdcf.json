{"ast":null,"code":"import _objectSpread from\"/Users/nshah/GPT Project/order-management-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{updateExecutionDetails}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExecutionEditPopup=_ref=>{let{execution,onClose,onSave}=_ref;const[formData,setFormData]=useState({actualWeightSent:execution.actualWeightSent||0,actualWeightReceived:execution.actualWeightReceived||0,dateReceived:execution.dateReceived||'',dateSent:execution.dateSent||'',// ✅ Add dateSent field\npiecesReceived:execution.piecesReceived||0,outWeight:execution.outWeight||0,// ✅ Add outWeight field\nstatus:execution.status});const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async()=>{try{const updatedData=_objectSpread({},formData);await updateExecutionDetails(execution._id,updatedData);onSave(_objectSpread(_objectSpread({},execution),updatedData));// ✅ Ensure data is passed correctly\nonClose();// Close popup\n}catch(error){console.error('❌ Error updating execution details:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Execution Details\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Actual Weight Sent:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"actualWeightSent\",value:formData.actualWeightSent,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Date Sent:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateSent\",value:formData.dateSent,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Actual Weight Received:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"actualWeightReceived\",value:formData.actualWeightReceived,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Date Received:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateReceived\",value:formData.dateReceived,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Pieces Received:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"piecesReceived\",value:formData.piecesReceived,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:formData.status,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Complete\",children:\"Complete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"cancel-btn\",children:\"Cancel\"})]})]})});};export default ExecutionEditPopup;","map":{"version":3,"names":["React","useState","updateExecutionDetails","jsx","_jsx","jsxs","_jsxs","ExecutionEditPopup","_ref","execution","onClose","onSave","formData","setFormData","actualWeightSent","actualWeightReceived","dateReceived","dateSent","piecesReceived","outWeight","status","handleChange","e","_objectSpread","target","name","value","handleSubmit","updatedData","_id","error","console","className","children","type","onChange","onClick"],"sources":["/Users/nshah/GPT Project/order-management-frontend/src/pages/ExecutionEditPopup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { updateExecutionDetails } from '../services/api';\n\nconst ExecutionEditPopup = ({ execution, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    actualWeightSent: execution.actualWeightSent || 0,\n    actualWeightReceived: execution.actualWeightReceived || 0,\n    dateReceived: execution.dateReceived || '',\n    dateSent: execution.dateSent || '',   // ✅ Add dateSent field\n    piecesReceived: execution.piecesReceived || 0,\n    outWeight: execution.outWeight || 0,  // ✅ Add outWeight field\n    status: execution.status,\n  });\n  \n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      const updatedData = { ...formData };\n  \n      await updateExecutionDetails(execution._id, updatedData);\n      onSave({ ...execution, ...updatedData });  // ✅ Ensure data is passed correctly\n      onClose(); // Close popup\n    } catch (error) {\n      console.error('❌ Error updating execution details:', error);\n    }\n  };\n  \n\n  return (\n    <div className=\"popup-overlay\">\n      <div className=\"popup-content\">\n        <h3>Edit Execution Details</h3>\n\n        <label>Actual Weight Sent:</label>\n        <input type=\"number\" name=\"actualWeightSent\" value={formData.actualWeightSent} onChange={handleChange} />\n        <label>Date Sent:</label>\n<input type=\"date\" name=\"dateSent\" value={formData.dateSent} onChange={handleChange} />\n\n\n        <label>Actual Weight Received:</label>\n        <input type=\"number\" name=\"actualWeightReceived\" value={formData.actualWeightReceived} onChange={handleChange} />\n\n        <label>Date Received:</label>\n        <input type=\"date\" name=\"dateReceived\" value={formData.dateReceived} onChange={handleChange} />\n\n        <label>Pieces Received:</label>\n        <input type=\"number\" name=\"piecesReceived\" value={formData.piecesReceived} onChange={handleChange} />\n\n        <label>Status:</label>\n        <select name=\"status\" value={formData.status} onChange={handleChange}>\n          <option value=\"Pending\">Pending</option>\n          <option value=\"In Progress\">In Progress</option>\n          <option value=\"Complete\">Complete</option>\n        </select>\n\n        <div className=\"popup-actions\">\n          <button onClick={handleSubmit}>Save</button>\n          <button onClick={onClose} className=\"cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExecutionEditPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}